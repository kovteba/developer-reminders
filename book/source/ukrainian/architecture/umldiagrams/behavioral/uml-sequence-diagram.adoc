ifndef::imagesdir[:imagesdir: ../../../../imgs/]

[#uml-sequence-diagram]
==== UML Sequence Diagram

image::architecture/uml-sequence-diagram.jpg[UML Sequence Diagram, align="center"]

[[uml-sequence-diagram-definition]]*UML Sequence Diagram* — це тип діаграми в Unified Modeling Language (UML), який використовується для моделювання взаємодій між об'єктами або компонентами системи у вигляді послідовності повідомлень. Вона показує, як об'єкти взаємодіють один з одним у часі, ілюструючи порядок викликів методів та обмін даними.

[[uml-sequence-diagram-main-goals]]
Головні цілі UML Sequence Diagram:

* *Візуалізація взаємодій* — Допомагає розробникам зрозуміти, як об'єкти або компоненти системи взаємодіють один з одним у певному сценарії;
* *Аналіз поведінки системи* — Дозволяє аналізувати логіку роботи системи, виявляючи потенційні проблеми або області для покращення;
* *Документування процесів* — Служить як документація для розробників, що полегшує розуміння динаміки системи;
* *Комунікація* — Сприяє кращому спілкуванню між членами команди, забезпечуючи спільне розуміння процесів і взаємодій;
* *Планування тестування* — Допомагає у створенні тестових сценаріїв, відображаючи ключові взаємодії, які потрібно перевірити.
* *Підтримка розробки* — Сприяє кращому розумінню складних систем під час розробки, що допомагає уникнути помилок і покращує якість коду.

[[uml-sequence-diagram-main-elements]]
|===
|Элемент|Значение
|Актор (Actor)|Зовнішній учасник, який взаємодіє з системою (людина або інша система)
|Об'єкт (Object)|Елемент системи, який бере участь у взаємодії
|Лінія життя (Lifeline)|Вертикальна пунктирна лінія, що показує існування об'єкта протягом часу
|Повідомлення (Message)|Горизонтальна стрілка, що показує виклик методу або обмін даними між об'єктами
|Активність (Activation)|Прямокутник на лінії життя, що показує період, коли об'єкт активний
|Умовне повідомлення (Conditional Message)|Повідомлення, яке відправляється за певної умови (позначається квадратними дужками)
|Повторюване повідомлення (Loop Message)|Повідомлення, яке відправляється кілька разів (позначається ключовим словом "loop")
|===

[[uml-sequence-diagram-example]]
Наведемо приклад UML Sequence Diagram:

[plantuml]
----
@startuml
actor Користувач

participant "LoginService" as ЛогінСервіс
participant "UserService" as СервісКористувача
participant "Database" as БазаДаних
participant "AdminPanel" as АдмінПанель

Користувач -> ЛогінСервіс : login(email, password)
activate ЛогінСервіс

ЛогінСервіс -> СервісКористувача : validateUser(email, password)
activate СервісКористувача

СервісКористувача -> БазаДаних : SELECT * FROM users WHERE email = ...
activate БазаДаних
БазаДаних --> СервісКористувача : userData
deactivate БазаДаних

СервісКористувача --> ЛогінСервіс : validUser
deactivate СервісКористувача

alt [користувач валідний]
    ЛогінСервіс -> Користувач : loginSuccess()

    opt [isAdmin == true]
        ЛогінСервіс -> АдмінПанель : loadDashboard()
        activate АдмінПанель
        АдмінПанель --> ЛогінСервіс : dashboardData
        deactivate АдмінПанель
    end
else [невалідний користувач]
    ЛогінСервіс -> Користувач : loginFailed()
end

deactivate ЛогінСервіс
@enduml
----

[[uml-class-sequence-diagram-example-explanation]]
.Таблиця з поясненнями елементів діаграми:
|====
|Елемент |Де в прикладі |Що означає
|Актор |Користувач |Зовнішній учасник, який взаємодіє з системою
|Об'єкт |LoginService, UserService, Database, AdminPanel |Елементи системи, які беруть участь у взаємодії
|Лінія життя |Пунктирні вертикальні лінії під кожним об'єктом |Показує існування об'єкта протягом часу
|Повідомлення |Горизонтальні стрілки між об'єктами |Показує виклик методу або обмін даними між об'єктами
|Активність |Прямокутники на лініях життя |Показує період, коли об'єкт активний
|Умовне повідомлення |alt [користувач валідний], else [невалідний користувач] |Показує, що повідомлення відправляється за певної умови
|Повторюване повідомлення |opt [isAdmin == true] |Показує, що повідомлення відправляється кілька разів
|====

